<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì •ì„œ 4ë¶„ë©´ ë§ˆìŒ í¸ì§€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
        }
        .quadrant-selected {
            outline: 4px solid #3b82f6; /* blue-500 */
            outline-offset: -2px;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
        }
        @media print {
            body * { visibility: hidden; }
            #resultSection, #resultSection * { visibility: visible; }
            #resultSection { position: absolute; left: 0; top: 0; width: 100%; box-shadow: none !important; border: none !important; }
            .no-print { display: none !important; }
            #resultCard { -webkit-print-color-adjust: exact !important; color-adjust: exact !important; }
            
            /* ê¸°ë³¸ ì¸ì‡„ ìŠ¤íƒ€ì¼ (í¬ê·¼í•œ ì¥ë¯¸ í…Œë§ˆ ê¸°ì¤€) */
            .theme-rose #resultCard { background-color: #fff1f2 !important; } /* bg-rose-50 */
            .theme-rose #resultMainTitle { color: #f43f5e !important; } /* text-rose-500 */
            .theme-rose #resultMainTitle .emphasized-name { color: #b45309 !important; } /* text-amber-700 */

            /* ì°¨ë¶„í•œ ìˆ² í…Œë§ˆ ì¸ì‡„ (í•„ìš”ì‹œ ì¶”ê°€) */
            .theme-forest #resultCard { background-color: #ecfdf5 !important; } /* bg-emerald-50 */
            .theme-forest #resultMainTitle { color: #059669 !important; } /* text-emerald-600 */
            .theme-forest #resultMainTitle .emphasized-name { color: #0f766e !important; } /* text-teal-700 */
            
            /* ë°œë„í•œ í–‡ì‚´ í…Œë§ˆ ì¸ì‡„ (í•„ìš”ì‹œ ì¶”ê°€) */
            .theme-sunshine #resultCard { background-color: #fffbeb !important; } /* bg-amber-50 */
            .theme-sunshine #resultMainTitle { color: #f97316 !important; } /* text-orange-500 */
            .theme-sunshine #resultMainTitle .emphasized-name { color: #f43f5e !important; } /* text-rose-600 */

            /* ê³µí†µ ì¸ì‡„ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
            #resultDate, #resultEmotion, #resultQuadrant, #resultAction, #resultLetter, #resultSection .label-text {
                color: #1f2937 !important; /* text-gray-800 */
            }
            #resultSection .value-text {
                 color: #111827 !important; /* text-gray-900 or darker for clarity */
            }
        }
    </style>
</head>
<body class="bg-slate-100 text-gray-800 flex flex-col items-center min-h-screen p-4 sm:p-8">

    <div class="w-full max-w-2xl bg-white shadow-xl rounded-lg p-6 sm:p-10">
        <header class="mb-8 text-center">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-600">ì •ì„œ 4ë¶„ë©´ ë§ˆìŒ í¸ì§€</h1>
            <p class="text-gray-600 mt-2">ë‚˜ì˜ ê°ì •ì„ ëŒì•„ë³´ê³ , ë‚˜ì—ê²Œ ë”°ëœ»í•œ ë§ˆìŒì„ ì „í•´ë³´ì„¸ìš”.</p>
        </header>

        <section id="inputSection" class="space-y-6">
            <div>
                <label for="writerName" class="block text-lg font-semibold mb-2 text-gray-700">ì‘ì„±ì ì´ë¦„</label>
                <p class="text-sm text-gray-500 mb-2">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                <input type="text" id="writerName" name="writer_name" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition" placeholder="ì˜ˆ: í™ê¸¸ë™">
            </div>

            <div>
                <label for="themeSelector" class="block text-lg font-semibold mb-2 text-gray-700">í¸ì§€ì§€ í…Œë§ˆ ì„ íƒ</label>
                <p class="text-sm text-gray-500 mb-2">ê²°ê³¼ ì¹´ë“œì˜ ë¶„ìœ„ê¸°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
                <select id="themeSelector" name="theme" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition">
                    <option value="rose">í¬ê·¼í•œ ì¥ë¯¸ (ê¸°ë³¸)</option>
                    <option value="forest">ì°¨ë¶„í•œ ìˆ²</option>
                    <option value="sunshine">ë°œë„í•œ í–‡ì‚´</option>
                </select>
            </div>

            <div>
                <label for="emotionSelect" class="block text-lg font-semibold mb-2 text-gray-700">1. ì˜¤ëŠ˜ì˜ ê°ì •</label>
                <p class="text-sm text-gray-500 mb-2">ì§€ê¸ˆ ì–´ë–¤ ê°ì •ì„ ëŠë¼ê³  ìˆë‚˜ìš”? ëª©ë¡ì—ì„œ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                <select id="emotionSelect" name="emotion" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition">
                    <option value="">-- ê°ì •ì„ ì„ íƒí•˜ì„¸ìš” --</option>
                    <option value="ê¸°ì¨">ê¸°ì¨ ğŸ˜Š</option>
                    <option value="ìŠ¬í””">ìŠ¬í”” ğŸ˜¢</option>
                    <option value="ë¶„ë…¸">ë¶„ë…¸ ğŸ˜ </option>
                    <option value="í‰ì˜¨">í‰ì˜¨ ğŸ˜Œ</option>
                    <option value="ë¶ˆì•ˆ">ë¶ˆì•ˆ ğŸ˜Ÿ</option>
                    <option value="ì‹ ë‚¨">ì‹ ë‚¨ ğŸ¥³</option>
                    <option value="ì‹¤ë§">ì‹¤ë§ ğŸ˜</option>
                    <option value="ìì‹ ê°">ìì‹ ê° ğŸ˜</option>
                    <option value="ê°ì‚¬">ê°ì‚¬ ğŸ™</option>
                    <option value="ê¸°íƒ€">ê¸°íƒ€ (ì§ì ‘ ì…ë ¥)</option>
                </select>
                <input type="text" id="emotionCustom" name="emotion_custom" class="w-full p-3 border border-gray-300 rounded-md shadow-sm mt-2 hidden focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition" placeholder="ê°ì •ì„ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”">
            </div>

            <div>
                <h2 class="block text-lg font-semibold mb-2 text-gray-700">2. ê°ì • 4ë¶„ë©´ ì„ íƒ</h2>
                <p class="text-sm text-gray-500 mb-3">ì„ íƒí•œ ê°ì •ì€ ì–´ë–¤ ì—ë„ˆì§€ì™€ ë°©í–¥ì„ ê°€ì§€ê³  ìˆë‚˜ìš”? í•´ë‹¹í•˜ëŠ” ì˜ì—­ì„ í´ë¦­í•˜ì„¸ìš”.</p>
                <div class="grid grid-cols-2 gap-2 sm:gap-4" id="emotionQuadrant">
                    <div data-quadrant="ë†’ì€ ì—ë„ˆì§€ & ê¸ì •ì  ê°ì •" class="quadrant-item h-28 sm:h-32 flex flex-col items-center justify-center text-center p-3 bg-orange-200 rounded-lg cursor-pointer hover:bg-orange-300 transition duration-150 ease-in-out">
                        <span class="font-semibold text-orange-800">ë†’ì€ ì—ë„ˆì§€ & ê¸ì •</span>
                        <span class="text-xs text-orange-700 mt-1">(ì˜ˆ: ì‹ ë‚¨, ê¸°ì¨, ì„¤ë ˜)</span>
                    </div>
                    <div data-quadrant="ë†’ì€ ì—ë„ˆì§€ & ë¶€ì •ì  ê°ì •" class="quadrant-item h-28 sm:h-32 flex flex-col items-center justify-center text-center p-3 bg-red-200 rounded-lg cursor-pointer hover:bg-red-300 transition duration-150 ease-in-out">
                        <span class="font-semibold text-red-800">ë†’ì€ ì—ë„ˆì§€ & ë¶€ì •</span>
                        <span class="text-xs text-red-700 mt-1">(ì˜ˆ: ë¶„ë…¸, ë¶ˆì•ˆ, ì´ˆì¡°)</span>
                    </div>
                    <div data-quadrant="ë‚®ì€ ì—ë„ˆì§€ & ê¸ì •ì  ê°ì •" class="quadrant-item h-28 sm:h-32 flex flex-col items-center justify-center text-center p-3 bg-green-200 rounded-lg cursor-pointer hover:bg-green-300 transition duration-150 ease-in-out">
                        <span class="font-semibold text-green-800">ë‚®ì€ ì—ë„ˆì§€ & ê¸ì •</span>
                        <span class="text-xs text-green-700 mt-1">(ì˜ˆ: í‰ì˜¨, ì•ˆì •, ë§Œì¡±)</span>
                    </div>
                    <div data-quadrant="ë‚®ì€ ì—ë„ˆì§€ & ë¶€ì •ì  ê°ì •" class="quadrant-item h-28 sm:h-32 flex flex-col items-center justify-center text-center p-3 bg-blue-200 rounded-lg cursor-pointer hover:bg-blue-300 transition duration-150 ease-in-out">
                        <span class="font-semibold text-blue-800">ë‚®ì€ ì—ë„ˆì§€ & ë¶€ì •</span>
                        <span class="text-xs text-blue-700 mt-1">(ì˜ˆ: ìŠ¬í””, ë¬´ê¸°ë ¥, ì§€ë£¨í•¨)</span>
                    </div>
                </div>
                <input type="hidden" id="selectedQuadrant" name="selected_quadrant">
            </div>

            <div>
                <label for="positiveAction" class="block text-lg font-semibold mb-2 text-gray-700">3. ê¸ì •ì  í–‰ë™ ì „ëµ</label>
                <p class="text-sm text-gray-500 mb-2">ì´ ê°ì •ì„ ë” ê¸ì •ì ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ ì§€ê¸ˆ ë‹¹ì¥ í•  ìˆ˜ ìˆëŠ” í•œ ê°€ì§€ í–‰ë™ì€ ë¬´ì—‡ì¸ê°€ìš”?</p>
                <input type="text" id="positiveAction" name="positive_action" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition" placeholder="ì˜ˆ: ì¢‹ì•„í•˜ëŠ” ìŒì•… ë“£ê¸°, ì‚°ì±…í•˜ê¸°">
            </div>

            <div>
                <label for="mindLetter" class="block text-lg font-semibold mb-2 text-gray-700">4. ë‚˜ì—ê²Œ ë³´ë‚´ëŠ” ë§ˆìŒ í¸ì§€</label>
                <p class="text-sm text-gray-500 mb-2">ì˜¤ëŠ˜ í•˜ë£¨ ìˆ˜ê³ í•œ ë‚˜ì—ê²Œ ì§§ì€ í¸ì§€ë¥¼ ì¨ì£¼ì„¸ìš”. (50~100ì ë‚´ì™¸ ê¶Œì¥)</p>
                <textarea id="mindLetter" name="mind_letter" rows="4" class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition" placeholder="ì˜ˆ: ì˜¤ëŠ˜ë„ ì •ë§ ìˆ˜ê³ í–ˆì–´! í˜ë“  ì¼ì´ ìˆì—ˆì§€ë§Œ ì˜ í•´ëƒˆê³ , ë‚´ì¼ì€ ë” ì¢‹ì€ ì¼ì´ ìˆì„ ê±°ì•¼."></textarea>
            </div>

            <button id="showResultBtn" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 px-4 rounded-md shadow-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 no-print">
                ê²°ê³¼ ë³´ê¸°
            </button>
        </section>

        <section id="resultSection" class="mt-10 pt-8 border-t-2 hidden"> {/* í…Œë§ˆë³„ í…Œë‘ë¦¬ ìƒ‰ìƒ ìœ„í•´ ê¸°ë³¸ í…Œë‘ë¦¬ ì œê±° */}
            {/* í…Œë§ˆë³„ í´ë˜ìŠ¤ê°€ ì—¬ê¸°ì— ì ìš©ë¨, ê¸°ë³¸ ë ˆì´ì•„ì›ƒ í´ë˜ìŠ¤ ìœ ì§€ */}
            <div id="resultCard" class="p-6 sm:p-8 rounded-xl shadow-2xl space-y-5 border"> 
                <div class="text-center mb-8">
                    <h2 id="resultMainTitle" class="text-2xl sm:text-3xl font-semibold mb-2"></h2>
                    <p id="resultDate" class="text-sm text-gray-500"></p>
                </div>
                
                <div>
                    <p class="font-semibold text-gray-700 flex items-center label-text"><span class="text-xl mr-2">ğŸ˜Š</span> ì˜¤ëŠ˜ì˜ ê°ì •:</p>
                    <p id="resultEmotion" class="value-text text-gray-800 ml-8 mt-1 p-2 bg-white/70 rounded"></p>
                </div>
                <div>
                    <p class="font-semibold text-gray-700 flex items-center label-text"><span class="text-xl mr-2">ğŸ¨</span> ì„ íƒí•œ 4ë¶„ë©´:</p>
                    <p id="resultQuadrant" class="value-text text-gray-800 ml-8 mt-1 p-2 bg-white/70 rounded"></p>
                </div>
                <div>
                    <p class="font-semibold text-gray-700 flex items-center label-text"><span class="text-xl mr-2">ğŸ’¡</span> ë‚˜ì˜ í–‰ë™ ì „ëµ:</p>
                    <p id="resultAction" class="value-text text-gray-800 ml-8 mt-1 p-2 bg-white/70 rounded"></p>
                </div>
                <div>
                    <p class="font-semibold text-gray-700 flex items-center label-text"><span class="text-xl mr-2">ğŸ’Œ</span> ë‚˜ì—ê²Œ ë³´ë‚´ëŠ” ë§ˆìŒ í¸ì§€:</p>
                    <p id="resultLetter" class="value-text text-gray-800 ml-8 mt-1 p-2 bg-white/70 rounded whitespace-pre-wrap"></p>
                </div>
            </div>

            <div class="mt-8 text-center space-y-3 sm:space-y-0 sm:space-x-4 no-print">
                <button id="printBtn" class="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-md shadow-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                    ì¸ì‡„ ë˜ëŠ” PDFë¡œ ì €ì¥
                </button>
                <button id="resetBtn" class="w-full sm:w-auto bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-md shadow-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2">
                    ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°
                </button>
            </div>
            <p class="text-sm text-gray-500 mt-4 text-center no-print">Tip: ì¸ì‡„ ì°½ì—ì„œ 'ëŒ€ìƒ'ì„ 'PDFë¡œ ì €ì¥'ìœ¼ë¡œ ì„ íƒí•˜ë©´ íŒŒì¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ë‹¨ì¶•í‚¤: Ctrl+P ë˜ëŠ” Cmd+P)</p>
        </section>

        <footer class="mt-12 text-center text-sm text-gray-500 no-print">
            <p>&copy; <span id="currentYear"></span> ë§ˆìŒ í¸ì§€ ì›¹ í•™ìŠµì§€. Tailwind CSS & Vanilla JS.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const writerNameInput = document.getElementById('writerName');
            const themeSelector = document.getElementById('themeSelector'); // í…Œë§ˆ ì„ íƒê¸°
            const emotionSelect = document.getElementById('emotionSelect');
            const emotionCustom = document.getElementById('emotionCustom');
            const quadrantItems = document.querySelectorAll('.quadrant-item');
            const selectedQuadrantInput = document.getElementById('selectedQuadrant');
            const positiveActionInput = document.getElementById('positiveAction');
            const mindLetterInput = document.getElementById('mindLetter');

            const showResultBtn = document.getElementById('showResultBtn');
            const resultSection = document.getElementById('resultSection');
            const resultCard = document.getElementById('resultCard'); // ê²°ê³¼ ì¹´ë“œ
            const printBtn = document.getElementById('printBtn');
            const resetBtn = document.getElementById('resetBtn');
            
            const resultMainTitle = document.getElementById('resultMainTitle');
            const resultDateEl = document.getElementById('resultDate');
            const resultEmotion = document.getElementById('resultEmotion');
            const resultQuadrant = document.getElementById('resultQuadrant');
            const resultAction = document.getElementById('resultAction');
            const resultLetter = document.getElementById('resultLetter');
            
            document.getElementById('currentYear').textContent = new Date().getFullYear();

            const themes = {
                'rose': {
                    cardBg: 'bg-rose-50', cardBorder: 'border-rose-200',
                    titleColor: 'text-rose-500', nameEmphasisColor: 'text-amber-700',
                    printClass: 'theme-rose'
                },
                'forest': {
                    cardBg: 'bg-emerald-50', cardBorder: 'border-emerald-200',
                    titleColor: 'text-emerald-600', nameEmphasisColor: 'text-teal-700',
                    printClass: 'theme-forest'
                },
                'sunshine': {
                    cardBg: 'bg-amber-50', cardBorder: 'border-amber-200',
                    titleColor: 'text-orange-500', nameEmphasisColor: 'text-rose-600',
                    printClass: 'theme-sunshine'
                }
            };
            let currentThemeClasses = {}; // í˜„ì¬ ì ìš©ëœ í…Œë§ˆ í´ë˜ìŠ¤ ì €ì¥ìš©

            function applyTheme(themeKey) {
                const theme = themes[themeKey];
                if (!theme) return;

                // ì´ì „ í…Œë§ˆ í´ë˜ìŠ¤ ì œê±°
                if (currentThemeClasses.cardBg) resultCard.classList.remove(currentThemeClasses.cardBg);
                if (currentThemeClasses.cardBorder) resultCard.classList.remove(currentThemeClasses.cardBorder);
                if (currentThemeClasses.titleColor) resultMainTitle.classList.remove(currentThemeClasses.titleColor);
                if (currentThemeClasses.printClass) resultSection.classList.remove(currentThemeClasses.printClass);


                // ìƒˆ í…Œë§ˆ í´ë˜ìŠ¤ ì ìš©
                resultCard.classList.add(theme.cardBg, theme.cardBorder);
                resultMainTitle.classList.add(theme.titleColor);
                resultSection.classList.add(theme.printClass); // ì¸ì‡„ìš© í´ë˜ìŠ¤

                // í˜„ì¬ í…Œë§ˆ í´ë˜ìŠ¤ ì—…ë°ì´íŠ¸
                currentThemeClasses = {
                    cardBg: theme.cardBg,
                    cardBorder: theme.cardBorder,
                    titleColor: theme.titleColor,
                    printClass: theme.printClass
                };
                return theme; // ì ìš©ëœ í…Œë§ˆ ì •ë³´ ë°˜í™˜
            }
            
            // ì´ˆê¸° í…Œë§ˆ ì ìš© (í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ê°’)
            applyTheme(themeSelector.value);


            emotionSelect.addEventListener('change', function() {
                emotionCustom.classList.toggle('hidden', this.value !== 'ê¸°íƒ€');
                if (this.value === 'ê¸°íƒ€') emotionCustom.focus();
                else emotionCustom.value = '';
            });

            let currentSelectedQuadrant = null;
            quadrantItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (currentSelectedQuadrant) {
                        currentSelectedQuadrant.classList.remove('quadrant-selected');
                        currentSelectedQuadrant.classList.add('hover:bg-' + getBaseColor(currentSelectedQuadrant) + '-300');
                    }
                    this.classList.add('quadrant-selected');
                    this.classList.remove('hover:bg-' + getBaseColor(this) + '-300');
                    currentSelectedQuadrant = this;
                    selectedQuadrantInput.value = this.dataset.quadrant;
                });
            });

            function getBaseColor(element) {
                const classList = element.classList;
                if (classList.contains('bg-orange-200')) return 'orange';
                if (classList.contains('bg-red-200')) return 'red';
                if (classList.contains('bg-green-200')) return 'green';
                if (classList.contains('bg-blue-200')) return 'blue';
                return 'gray';
            }

            showResultBtn.addEventListener('click', function() {
                const writerNameValue = writerNameInput.value.trim();
                if (!writerNameValue) { alert("ì‘ì„±ì ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); writerNameInput.focus(); return; }

                let emotionValue = emotionSelect.value;
                if (emotionValue === 'ê¸°íƒ€') emotionValue = emotionCustom.value.trim() || "ê¸°íƒ€ (ì…ë ¥ ì—†ìŒ)";
                else if (!emotionValue) { alert("ì˜¤ëŠ˜ì˜ ê°ì •ì„ ì„ íƒí•˜ê±°ë‚˜ ì…ë ¥í•´ì£¼ì„¸ìš”."); emotionSelect.focus(); return; }

                const quadrantValue = selectedQuadrantInput.value;
                if (!quadrantValue) { alert("ê°ì • 4ë¶„ë©´ì„ ì„ íƒí•´ì£¼ì„¸ìš”."); document.getElementById('emotionQuadrant').scrollIntoView({ behavior: 'smooth', block: 'center' }); return; }

                const actionValue = positiveActionInput.value.trim();
                if (!actionValue) { alert("ê¸ì •ì  í–‰ë™ ì „ëµì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); positiveActionInput.focus(); return; }
                
                const letterValue = mindLetterInput.value.trim();
                if (!letterValue) { alert("ë‚˜ì—ê²Œ ë³´ë‚´ëŠ” ë§ˆìŒ í¸ì§€ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”."); mindLetterInput.focus(); return; }
                
                const today = new Date();
                const formattedDate = `${today.getFullYear()}ë…„ ${String(today.getMonth() + 1).padStart(2, '0')}ì›” ${String(today.getDate()).padStart(2, '0')}ì¼`;

                const selectedThemeKey = themeSelector.value;
                const currentThemeDetails = applyTheme(selectedThemeKey); // í…Œë§ˆ ì ìš© ë° ìƒì„¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°

                resultMainTitle.innerHTML = `ì˜¤ëŠ˜, <span class="font-bold ${currentThemeDetails.nameEmphasisColor} emphasized-name">${writerNameValue}</span>ë‹˜ì˜ ë§ˆìŒ ì´ì•¼ê¸° âœ¨`;
                resultDateEl.textContent = formattedDate;
                resultEmotion.textContent = emotionValue;
                resultQuadrant.textContent = quadrantValue;
                resultAction.textContent = actionValue;
                resultLetter.textContent = letterValue;

                // ê²°ê³¼ ì„¹ì…˜ ìƒë‹¨ í…Œë‘ë¦¬ ìƒ‰ìƒ ë™ì  ì ìš©
                resultSection.classList.remove('border-sky-100', 'border-rose-200', 'border-emerald-200', 'border-amber-200'); // ê¸°ì¡´ í…Œë‘ë¦¬ ìƒ‰ìƒ ëª¨ë‘ ì œê±°
                resultSection.classList.add(currentThemeDetails.cardBorder.replace('border-', 'border-t-')); // ìƒë‹¨ í…Œë‘ë¦¬ë§Œ ì ìš© (ì˜ˆ: border-rose-200 -> border-t-rose-200)


                resultSection.classList.remove('hidden');
                resultSection.scrollIntoView({ behavior: 'smooth' });
            });

            printBtn.addEventListener('click', () => window.print());

            resetBtn.addEventListener('click', function() {
                writerNameInput.value = '';
                themeSelector.value = 'rose'; // ê¸°ë³¸ í…Œë§ˆë¡œ ë¦¬ì…‹
                applyTheme('rose'); // í…Œë§ˆ ìŠ¤íƒ€ì¼ ë¦¬ì…‹
                emotionSelect.value = '';
                emotionCustom.value = '';
                emotionCustom.classList.add('hidden');
                
                if (currentSelectedQuadrant) {
                    currentSelectedQuadrant.classList.remove('quadrant-selected');
                    currentSelectedQuadrant.classList.add('hover:bg-' + getBaseColor(currentSelectedQuadrant) + '-300');
                    currentSelectedQuadrant = null;
                }
                selectedQuadrantInput.value = '';
                positiveActionInput.value = '';
                mindLetterInput.value = '';
                
                resultMainTitle.innerHTML = ''; 
                resultDateEl.textContent = '';
                resultSection.classList.add('hidden');
                writerNameInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
            });
        });
    </script>
</body>
</html>